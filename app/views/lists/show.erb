<h1><%= @list.title %></h1>


<ul>
    <% @list.tasks.each do |task| %>
      <li>
        <%= task.description %>
        
        <form action="/lists/<%= @list.id %>/tasks/<%= task.id %>" method="post">
          <input type="hidden" name="_method" value="put">
          <% if task.completed == false %>
            <input type="hidden" name="completed" value="<%= true %>">
            <input class="form_button" type="submit" value="Mark Complete"> 
          <% else %>
            <input type="hidden" name="completed" value="<%= false %>">
            <input class="form_button" type="submit" value="Mark Incomplete"> 
          <% end %>
        </form>

        <form action="/lists/<%= @list.id %>/tasks/<%= task.id %>" method="post">
          <input type="hidden" name="_method" value="delete">
            <input type="hidden" name="completed" value="">
            <input class="form_button" type="submit" value="Delete"> 
        </form>

      </li>
    <% end %>
</ul>


<!-- 
<form action="demo_form.asp" method="get">
  <input type="checkbox" name="vehicle" value="Bike"> I have a bike<br>
  <input type="checkbox" name="vehicle" value="Car" checked="checked"> I have a car<br>
  <input type="submit" value="Submit">
</form> -->

<% if logged_in? && @list.user == current_user %>
  <form action='/lists/<%= @list.id %>/tasks/new' method="post">
        <label for="list">Add a Task: </label>
        <input type="text" name="description" placeholder="Enter description here">
        <input type="submit" value="Add Task"><br>
  </form>
<% end %>

<!-- <input type="checkbox" name="completed" value="true"> Complete
          <input type="checkbox" name="completed" value="false" checked="checked"> Incomplete<br>
          <input type="submit" value="Update"> -->